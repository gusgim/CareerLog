# 🎯 CareerLog 완전한 데모 준비 가이드

이 가이드는 CareerLog 시스템의 완벽한 데모 환경을 구축하고 모든 차트와 그래프가 의미있는 데이터로 표시되도록 보장하는 종합적인 지침서입니다.

## 📋 목차

1. [사전 준비](#사전-준비)
2. [더미 데이터 생성](#더미-데이터-생성)
3. [자동 검증 실행](#자동-검증-실행)
4. [수동 검증 체크리스트](#수동-검증-체크리스트)
5. [데모 시나리오](#데모-시나리오)
6. [문제 해결](#문제-해결)

## 🚀 사전 준비

### 1. 환경 확인
- ✅ Supabase 프로젝트 설정 완료
- ✅ 데이터베이스 스키마 적용 완료 (`packages/db/schema.sql`)
- ✅ Next.js 애플리케이션 정상 실행
- ✅ 환경변수 설정 완료

### 2. 기존 데이터 백업 (선택사항)
```sql
-- 중요한 기존 데이터가 있는 경우 백업
pg_dump -h [host] -U [user] -d [database] > backup_$(date +%Y%m%d).sql
```

## 🗄️ 더미 데이터 생성

### 1단계: 기존 데이터 정리 (필요시)
**Supabase 대시보드 → SQL Editor에서 실행:**
```sql
-- packages/db/clean-demo-data.sql 내용 실행
```

### 2단계: 더미 데이터 생성
**Supabase 대시보드 → SQL Editor에서 실행:**
```sql
-- packages/db/seed-demo-data.sql 내용 실행 (1-2분 소요)
```

### 3단계: 생성 결과 확인
```sql
-- 기본 데이터 확인
SELECT 'users' as table_name, COUNT(*) as count FROM public.profiles
UNION ALL
SELECT 'logs', COUNT(*) FROM public.logs
UNION ALL
SELECT 'schedules', COUNT(*) FROM public.duty_schedules
UNION ALL
SELECT 'rooms', COUNT(*) FROM public.operating_rooms;
```

**예상 결과:**
- users: 78명 (관리자 1명 + 일반 사용자 77명)
- logs: 15,000+ 건
- schedules: 40,000+ 건  
- rooms: 10개

## 🔍 자동 검증 실행

### 방법 1: 웹 인터페이스 (권장)
1. **관리자 계정으로 로그인**
   - 이메일: `admin@careerlog.demo`
   - 비밀번호: Supabase에서 설정 필요

2. **시스템 설정 → 개발 도구 → 데모 데이터 검증**
3. **'검증 실행' 버튼 클릭**
4. **결과 확인 및 점수 체크**

### 방법 2: SQL 스크립트
**Supabase 대시보드 → SQL Editor에서 실행:**
```sql
-- packages/db/test-demo-data.sql 내용 실행
```

### 방법 3: 브라우저 콘솔
```javascript
// F12 → Console 탭에서 실행
window.testDemoData()
```

## ✅ 수동 검증 체크리스트

### 대시보드 검증
- [ ] **개인 대시보드**
  - [ ] 오늘의 활동 수가 표시됨 (0 이상)
  - [ ] 이번 주 활동 수가 표시됨 (0 이상)
  - [ ] 성과 점수가 계산됨
  - [ ] 최근 활동 리스트가 표시됨

- [ ] **관리자 전체 통계**
  - [ ] 전체 사용자 수: 78명
  - [ ] 활성 사용자 비율: 70% 이상
  - [ ] 전체 활동 로그: 15,000건 이상
  - [ ] 일별 활성 사용자 차트에 데이터 표시
  - [ ] 카테고리별 분포 차트에 4개 카테고리 표시

### 세부 통계 검증
- [ ] **근무자 자격 관리**
  - [ ] 자격증 보유 현황 차트 표시
  - [ ] 모든 사용자가 기본 자격증 보유
  - [ ] 전문 자격증 분포 확인

- [ ] **수술방 분석**
  - [ ] 10개 수술방 모두 사용 데이터 존재
  - [ ] 수술방별 사용 현황 차트 표시
  - [ ] 부서별 분포 차트 표시
  - [ ] 월별 사용 추이 차트 표시

- [ ] **개별 사용자 분석**
  - [ ] 사용자 선택 시 6/12/18/24개월 데이터 표시
  - [ ] 근무 패턴 차트 표시
  - [ ] 카테고리별 활동 분포 차트 표시

- [ ] **자동 스케줄링**
  - [ ] 듀티 타입별 분포 차트 표시
  - [ ] 사용자별 근무 부하 분석 표시
  - [ ] 스케줄 생성 기능 작동

## 🎪 데모 시나리오

### 시나리오 1: 관리자 전체 현황 확인 (5분)
1. **admin@careerlog.demo**로 로그인
2. **전체 통계 대시보드** 확인
   - 78명 사용자, 70%+ 활성화율 강조
   - 15,000+ 활동 로그 누적 강조
3. **일별/카테고리별 차트** 설명
4. **월별 성장 지표** 설명

### 시나리오 2: 세부 분석 기능 시연 (10분)
1. **세부 통계 대시보드** 이동
2. **수술방 분석** 탭
   - 10개 수술방 사용 현황 차트
   - 가장 많이 사용되는 수술방 강조
   - 부서별 분포 설명
3. **개별 사용자 분석** 탭
   - "김민지" 사용자 선택
   - 24개월 근무 패턴 분석
   - 성과 변화 추이 설명

### 시나리오 3: AI 자동 스케줄링 (5분)
1. **자동 스케줄링** 탭
2. **현재 스케줄 현황** 확인
3. **듀티 타입별 분포** 설명
4. **AI 스케줄링 시뮬레이션** 실행

### 시나리오 4: 일반 사용자 경험 (5분)
1. **user1@careerlog.demo**로 로그인
2. **개인 대시보드** 확인
3. **새 활동 로그 작성** 시연
4. **개인 근무 스케줄** 확인

## 🔧 문제 해결

### 문제 1: 데이터가 부족하게 표시됨
**원인:** 더미 데이터 생성이 완전히 완료되지 않음
**해결책:**
```sql
-- 데이터 수 재확인
SELECT COUNT(*) FROM public.logs;
SELECT COUNT(*) FROM public.duty_schedules;

-- 부족한 경우 seed-demo-data.sql 재실행
```

### 문제 2: 차트에 "데이터 없음" 표시
**원인:** 날짜 필터링 문제 또는 API 오류
**해결책:**
1. 브라우저 새로고침
2. 네트워크 탭에서 API 오류 확인
3. Supabase 로그 확인

### 문제 3: 관리자 권한 문제
**원인:** is_admin 플래그 누락
**해결책:**
```sql
-- 관리자 권한 부여
UPDATE public.profiles 
SET is_admin = true 
WHERE id = (SELECT id FROM auth.users WHERE email = 'admin@careerlog.demo');
```

### 문제 4: 로그인 불가
**원인:** 비밀번호 미설정
**해결책:**
1. **Supabase 대시보드 → Authentication → Users**
2. 해당 사용자 선택 후 **Reset Password**
3. 또는 SQL로 일괄 설정:
```sql
UPDATE auth.users 
SET encrypted_password = crypt('demo123!', gen_salt('bf'))
WHERE email LIKE '%@careerlog.demo';
```

### 문제 5: 성능 이슈 (느린 로딩)
**원인:** 대량의 더미 데이터로 인한 쿼리 성능 저하
**해결책:**
```sql
-- 인덱스 재생성
REINDEX INDEX CONCURRENTLY idx_logs_user_id;
REINDEX INDEX CONCURRENTLY idx_logs_log_date;
REINDEX INDEX CONCURRENTLY idx_duty_schedules_user_id;

-- 통계 업데이트
ANALYZE public.logs;
ANALYZE public.duty_schedules;
```

## 📊 검증 기준표

| 항목 | 최소 기준 | 권장 기준 | 우수 기준 |
|------|----------|----------|----------|
| **총 사용자** | 70명 | 78명 | 78명 |
| **활동 로그** | 10,000건 | 15,000건 | 20,000건+ |
| **근무 스케줄** | 30,000건 | 40,000건 | 50,000건+ |
| **활성화율** | 60% | 80% | 90%+ |
| **카테고리 다양성** | 3개 | 4개 | 4개 |
| **데이터 품질** | 80점 | 90점 | 95점+ |

## 🎯 성공 지표

### A급 (90점 이상)
- 🎉 **완벽한 데모 준비 완료**
- 모든 차트와 그래프가 의미있는 데이터로 표시
- 실제 운영 환경과 동일한 수준의 데모 가능

### B급 (75-89점)
- ✅ **양호한 데모 환경**
- 대부분의 기능이 정상 작동
- 일부 개선 여지 존재

### C급 (60-74점)
- ⚠️ **기본적인 데모 가능**
- 주요 기능은 작동하나 일부 차트 데이터 부족
- 개선 필요

### D급 (60점 미만)
- ❌ **데모 준비 미흡**
- 더미 데이터 재생성 필요
- 문제 해결 후 재검증 권장

## 📞 지원 및 문의

데모 준비 과정에서 문제가 발생하면:

1. **자동 검증 도구** 실행 후 상세 오류 확인
2. **브라우저 콘솔** 확인 (`F12` → `Console`)
3. **Supabase 로그** 확인
4. 이 가이드의 **문제 해결** 섹션 참조

---

**🚀 완벽한 데모를 위한 최종 체크리스트:**
- [ ] 더미 데이터 생성 완료 (78명, 15,000+ 로그)
- [ ] 자동 검증 도구 90점 이상
- [ ] 관리자/일반사용자 계정 로그인 확인
- [ ] 모든 차트 및 그래프 데이터 표시 확인
- [ ] 데모 시나리오 연습 완료

**🎉 축하합니다! 이제 CareerLog의 모든 기능을 실제와 같은 환경에서 성공적으로 데모할 수 있습니다.** 